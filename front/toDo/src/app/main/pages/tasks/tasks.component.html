<div class="container">
  <mat-tab-group mat-align-tabs="center">
    <mat-tab>
        <ng-template mat-tab-label>
          <span *ngIf="taskInProgress.length !== 0" [matBadge]="taskInProgress.length" matBadgeOverlap="false">Tarefas em progesso</span>
          <span *ngIf="taskInProgress.length === 0">Tarefas em progesso</span>
        </ng-template>
      <mat-grid-list *ngIf="taskInProgress.length !== 0; else noTasks" [cols]="breakpoint" rowHeight="180">
        <div *ngFor="let task of taskInProgress">
          <mat-grid-tile>
            <mat-card>
              <a style="color: inherit;" class="cursor-pointer hover:bg-slate-800" (click)="editTask(task)">
                <div>
                  <mat-card-subtitle>
                    <span>
                      {{ task.creationDate | date: "dd/MM/yyyy"}}
                      <span *ngIf="task.deadlineDate">- {{ task.deadlineDate | date: "dd/MM/yyyy"}}</span>
                      <span *ngIf="!task.deadlineDate">// --/--/---</span>
                    </span>
                  </mat-card-subtitle>
                  <mat-card-title>{{ task.nameTask }}</mat-card-title>
                  <mat-card-content>
                    <p>{{ task.description }}</p>
                  </mat-card-content>
                </div>
              </a>
              <mat-divider inset></mat-divider>
              <mat-card-actions>
                <button (click)="completedTask(task)" mat-button>Concluída</button>
                <button (click)="deleteTask(task)" mat-button>Excluir</button>
              </mat-card-actions>
            </mat-card>
          </mat-grid-tile>
        </div>
      </mat-grid-list>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <span *ngIf="taskVencidas.length !== 0" [matBadge]="taskVencidas.length" matBadgeOverlap="false">Tarefas vencidas</span>
        <span *ngIf="taskVencidas.length === 0">Tarefas vencidas</span>
      </ng-template>
      <mat-grid-list *ngIf="taskVencidas.length !== 0; else noTasks" [cols]="breakpoint" rowHeight="180">
        <div *ngFor="let task of taskVencidas">
          <mat-grid-tile>
            <mat-card>
              <mat-card-subtitle>
                <span>
                  {{ task.creationDate | date: "dd/MM/yyyy"}}
                  <span *ngIf="task.deadlineDate">- {{ task.deadlineDate | date: "dd/MM/yyyy"}}</span>
                  <span *ngIf="!task.deadlineDate">// --/--/---</span>
                </span>
              </mat-card-subtitle>
              <mat-card-title>{{ task.nameTask }}</mat-card-title>
              <mat-card-content>
                <p>{{ task.description }}</p>
              </mat-card-content>
              <mat-divider inset></mat-divider>
              <mat-card-actions>
                <button (click)="completedTask(task)" mat-button>Concluída</button>
                <button (click)="deleteTask(task)" mat-button>Excluir</button>
              </mat-card-actions>
            </mat-card>
          </mat-grid-tile>
        </div>
      </mat-grid-list>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <span *ngIf="taskCompleted.length !== 0" [matBadge]="taskCompleted.length" matBadgeOverlap="false">Tarefas concluidas</span>
        <span *ngIf="taskCompleted.length === 0">Tarefas concluidas</span>
      </ng-template>
      <mat-grid-list *ngIf="taskCompleted.length !== 0; else noTasks" [cols]="breakpoint" rowHeight="180">
        <div *ngFor="let task of taskCompleted">
          <mat-grid-tile>
            <mat-card>
              <mat-card-subtitle>
                <span>
                  {{ task.creationDate | date: "dd/MM/yyyy"}}
                  <span *ngIf="task.deadlineDate"> - {{ task.deadlineDate | date: "dd/MM/yyyy"}}</span>
                  <span *ngIf="!task.deadlineDate"> // --/--/---</span>
                </span>
              </mat-card-subtitle>
              <mat-card-title>{{ task.nameTask }}</mat-card-title>
              <mat-card-content>
                <p>{{ task.description }}</p>
              </mat-card-content>
              <mat-divider inset></mat-divider>
              <mat-card-actions>
                <button disabled mat-button>Concluída</button>
                <button (click)="deleteTask(task)" mat-button>Excluir</button>
              </mat-card-actions>
            </mat-card>
          </mat-grid-tile>
        </div>
      </mat-grid-list>
    </mat-tab>
  </mat-tab-group>
</div>

<ng-template class="text-center" #noTasks>
  <h2 class="text-center mt-2 mx-3">
    <mat-card>Não há tarefas </mat-card>
  </h2>
</ng-template>
